:root{
  --brand-primary:#4f46e5;--brand-light:#e0e7ff;--text-primary:#111827;--text-secondary:#6b7280;
  --bg-primary:#f9fafb;--bg-secondary:#ffffff;--border-color:#e5e7eb;
  --sidebar-bg:#1f2937;--sidebar-text:#d1d5db;--sidebar-text-hover:#ffffff;--sidebar-active-bg:#374151;
  --font-family:'Inter',system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  --shadow-sm:0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --radius-md:8px;--radius-lg:12px;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;font-family:var(--font-family);background:var(--bg-primary);color:var(--text-primary)}
img{max-width:100%;display:block}
.visually-hidden{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0}
.muted{color:var(--text-secondary)}

.auth-gate{min-height:100svh;display:grid;place-items:center;padding:2rem}
.auth-card{width:min(420px,92vw);background:var(--bg-secondary);border:1px solid var(--border-color);
  border-radius:var(--radius-lg);padding:1.5rem;box-shadow:var(--shadow-sm);text-align:center}
.auth-logo{width:64px;height:64px;margin:0 auto .75rem}
.btn-google{display:flex;gap:.5rem;align-items:center;justify-content:center;width:100%;
  background:#fff;border:1px solid var(--border-color);border-radius:var(--radius-md);
  padding:.7rem 1rem;cursor:pointer;box-shadow:var(--shadow-sm)}
.btn-google:hover{box-shadow:var(--shadow-md)}
.auth-status{margin-top:.75rem;color:var(--text-secondary);min-height:1.25rem}

.app-container{display:grid;grid-template-columns:260px 1fr;min-height:100svh}
.sidebar{background:var(--sidebar-bg);color:var(--sidebar-text);display:flex;flex-direction:column;justify-content:space-between}
.logo-text{color:var(--sidebar-text-hover);font-weight:700;font-size:1.25rem;padding:1rem 1rem .5rem}
.nav-menu{list-style:none;margin:0;padding:0 1rem 1rem}
.nav-item{display:flex;align-items:center;gap:.5rem;color:var(--sidebar-text);text-decoration:none;
  padding:.6rem .8rem;border-radius:var(--radius-md)}
.nav-item:hover{color:var(--sidebar-text-hover);background:var(--sidebar-active-bg)}
.nav-item.active{color:var(--sidebar-text-hover);background:var(--sidebar-active-bg)}
.sidebar-footer{padding:1rem;border-top:1px solid rgba(255,255,255,.08)}
.user-profile{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem}
.user-profile img{width:32px;height:32px;border-radius:50%;background:#fff}

.app-main{padding:1.25rem 1.5rem;display:grid;gap:1rem}
.main-header h1{margin:0}
.welcome-message{margin:.25rem 0;color:var(--text-secondary)}

.card{background:var(--bg-secondary);border:1px solid var(--border-color);
  border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);padding:1rem}
.card-header h2{margin:.25rem 0}
.controls-grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:.5rem}
.input{background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color);
  border-radius:var(--radius-md);padding:.55rem .65rem}
.file-input-label{position:relative;overflow:hidden}
.file-input-label input[type="file"]{position:absolute;inset:0;opacity:0;cursor:pointer}
.status-text{color:var(--text-secondary)}

.btn{border-radius:var(--radius-md);border:1px solid var(--border-color);background:var(--bg-secondary);
  color:var(--text-primary);box-shadow:var(--shadow-sm);padding:.6rem .8rem;cursor:pointer}
.btn:hover{box-shadow:var(--shadow-md)}
.btn-brand{background:var(--brand-primary);color:#fff;border-color:transparent}
.btn-brand:hover{filter:brightness(1.05)}

.table-container table{width:100%;border-collapse:collapse;background:var(--bg-secondary);border:1px solid var(--border-color)}
.table-container th,.table-container td{padding:.65rem .75rem;border-bottom:1px solid var(--border-color);color:var(--text-primary)}
.table-container thead th{color:var(--text-secondary)}

.kpi-card{display:grid;place-items:center;padding:1.25rem}
.kpi-value{font-size:1.8rem;font-weight:700}
.kpi-label{color:var(--text-secondary)}

.groups-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:.75rem}
.group-card h3{margin:.25rem 0 .5rem}

.assignment-generator-grid{display:grid;grid-template-columns:1.2fr .8fr;gap:1rem}
.standards-list{border:1px solid var(--border-color);border-radius:var(--radius-md);max-height:420px;overflow:auto}
.standard-item{display:flex;gap:.5rem;align-items:center;padding:.5rem .6rem;border-bottom:1px solid var(--border-color);cursor:pointer}
.standard-item:hover{background:var(--brand-light)}
.standard-item.selected{outline:2px solid var(--brand-primary);background:var(--brand-light)}

.toaster{position:fixed;right:16px;bottom:16px;background:var(--brand-primary);color:#fff;
  border-radius:var(--radius-md);padding:.7rem 1rem;opacity:0;transform:translateY(8px);
  transition:.2s;box-shadow:var(--shadow-md);z-index:10000}
.toaster.show{opacity:1;transform:none}

.crash-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
  background:rgba(10,12,16,.82);backdrop-filter:saturate(1.2) blur(2px);z-index:9999}
.crash-card{width:min(800px,90vw);max-height:80vh;overflow:auto;background:#10131a;color:#e8eefc;
  border:1px solid #2a3250;border-radius:16px;padding:24px;box-shadow:0 20px 60px rgba(0,0,0,.35)}
.error-details{white-space:pre-wrap;font-size:.9rem;margin-top:8px}

@media (max-width:960px){
  .app-container{grid-template-columns:1fr}
  .sidebar{display:none}
  .assignment-generator-grid{grid-template-columns:1fr}
}
